(function(){(function(){var a;a=angular.module("ng.ueditor",[]);a.directive("ueditor",[function(){return{restrict:"C",require:"ngModel",scope:{config:"=",ready:"="},link:function(g,d,c,f){var b,e;e=false;b=(function(){function h(){this.bindRender();this.initEditor();return}h.prototype.initEditor=function(){var j,k,i;i=this;if(typeof UE==="undefined"){console.error("Please import the local resources of ueditor!");return}j=g.config?g.config:{};k=c.id?c.id:"_editor"+(Date.now());d[0].id=k;this.editor=new UE.getEditor(k,j);return this.editor.ready(function(){i.editorReady=true;i.editor.addListener("contentChange",function(){f.$setViewValue(i.editor.getContent());if(!e){if(!g.$root.$$phase){g.$apply()}}e=false});if(navigator.userAgent.indexOf("Firefox")>-1){i.editor.addListener("keyup",function(){i.editor.fireEvent("contentchange")})}i.editor.addListener("click",function(){$(d).trigger("click")});i.editor.addListener("focus",function(){$(d).trigger("focus")});i.setEditorContent();if(typeof g.ready==="function"){g.ready(i.editor)}})};h.prototype.setEditorContent=function(i){if(i==null){i=this.modelContent}if(this.editor&&this.editorReady){this.editor.setContent(i)}};h.prototype.bindRender=function(){var i;i=this;f.$render=function(){i.modelContent=(f.$isEmpty(f.$viewValue)?"":f.$viewValue);e=true;i.setEditorContent()}};return h})();new b()}}}])})()}).call(this);
